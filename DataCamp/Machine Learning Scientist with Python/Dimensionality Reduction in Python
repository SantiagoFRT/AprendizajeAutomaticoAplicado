###################################### Dimensionality Reduction in Python ############################
########### February 2023 #################


#################################### 1. Exploring High Dimensional Data ##################################


######### Finding the number of dimensions in a dataset ###########
# A larger sample of the Pokemon dataset has been loaded for you as the pandas DataFrame pokemon_df.

# How many dimensions, or columns are in this dataset?


[ ]5 dimensions

[X]7 dimensions

[ ]8 dimensions

[ ]160 dimensions


####################3 Removing features without variance #############

# Leave this list as is
number_cols = ['HP', 'Attack', 'Defense']

# Remove the feature without variance from this list
non_number_cols = ['Name', 'Type']

# Create a new DataFrame by subselecting the chosen features
df_selected = pokemon_df[number_cols + non_number_cols]

# Prints the first 5 lines of the new DataFrame
print(df_selected.head())



Correct! All Pokemon in this dataset are non-legendary
and from generation one so you could choose to drop those two features.



################# Visually detecting redundant features #####################

# Create a pairplot and color the points using the 'Gender' feature
sns.pairplot(ansur_df_1, hue='Gender', diag_kind='hist')

# Remove one of the redundant features
reduced_df = ansur_df_1.drop('stature_m', axis=1)

# Create a pairplot and color the points using the 'Gender' feature
sns.pairplot(reduced_df, hue='Gender')

# Show the plot
plt.show()


# Create a pairplot and color the points using the 'Gender' feature
sns.pairplot(ansur_df_2, hue='Gender', diag_kind='hist')


# Show the plot
plt.show()


# Remove the redundant feature
reduced_df = ansur_df_2.drop('n_legs', axis=1)

# Create a pairplot and color the points using the 'Gender' feature
sns.pairplot(reduced_df, hue='Gender', diag_kind='hist')

# Show the plot
plt.show()


# Show the plot
plt.show()



Correct, the body height (inches) and stature (meters) hold the
same information in a different unit + all the 
individuals in the second sample have two legs.



############### Advantage of feature selection ###############3
# What advantage does feature selection have over feature extraction?


[ ]Feature selection allows you to do a stronger reduction in the number of dimensions.


[ ]Less information is lost during feature selection compared to feature extraction.


[X]The selected features remain unchanged, and are therefore easier to interpret.


[ ]Models will never overfit to a sub-selected dataset.


Correct! Extracted features can be quite hard to interpret.





######## t-SNE intuition
# t-SNE is super powerful, but do you know exactly when to use it?

# What is a good use case to use t-SNE?


[ ]When you want to visually check if two groups within your dataset differ significantly.

[X]When you want to visually explore the patterns in a high dimensional dataset.

[ ]When you want to know the importance of specific features in a dataset.

[ ]When you want to sub-select the two most important features present in your dataset.


################### Fitting t-SNE to the ANSUR data ################

# Non-numerical columns in the dataset
non_numeric = ['Branch', 'Gender', 'Component']

# Drop the non-numerical columns from df
df_numeric = df.drop(non_numeric, axis=1)

# Create a t-SNE model with learning rate 50
m = TSNE(learning_rate=50)

# Fit and transform the t-SNE model on the numeric dataset
tsne_features = m.fit_transform(df_numeric)
print(tsne_features.shape)


Good job! t-SNE reduced the more than 90
features in the dataset to just 2 which you can now plot.


################ t-SNE visualisation of dimensionality ################

# Color the points according to Army Component
sns.scatterplot(x="x", y="y", hue='Component', data=df)

# Show the plot
plt.show()


# Color the points by Army Branch
sns.scatterplot(x="x", y="y", hue='Branch', data=df)

# Show the plot
plt.show()


# Color the points by Gender
sns.scatterplot(x="x", y="y", hue='Gender', data=df)

# Show the plot
plt.show()


Eureka! There is a Male and a Female cluster. 
t-SNE found these gender differences in body shape without 
being told about them explicitly! From the second plot you
learned there are more males in the Combat Arms Branch.




######################################### 2. Feature Selection I - Selecting for Feature Information ################

